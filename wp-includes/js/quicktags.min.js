function quicktags(t){return new QTags(t)}function edInsertContent(t,e){return QTags.insertContent(e)}function edButton(t,e,n,o,a){return QTags.addButton(t,e,n,o,a,"",-1)}var QTags,edCanvas,edButtons=[],edAddTag=function(){},edCheckOpenTags=function(){},edCloseAllTags=function(){},edInsertImage=function(){},edInsertLink=function(){},edInsertTag=function(){},edLink=function(){},edQuickLink=function(){},edRemoveTag=function(){},edShowButton=function(){},edShowLinks=function(){},edSpell=function(){},edToolbar=function(){};!function(){function t(t){return t=t||"",t=t.replace(/&([^#])(?![a-z1-4]{1,8};)/gi,"&#038;$1"),t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var e,n=function(t){var e,o,a,i;"undefined"!=typeof jQuery?jQuery(document).ready(t):(e=n,e.funcs=[],e.ready=function(){if(!e.isReady)for(e.isReady=!0,o=0;o<e.funcs.length;o++)e.funcs[o]()},e.isReady?t():e.funcs.push(t),e.eventAttached||(document.addEventListener?(a=function(){document.removeEventListener("DOMContentLoaded",a,!1),e.ready()},document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",e.ready,!1)):document.attachEvent&&(a=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),e.ready())},document.attachEvent("onreadystatechange",a),window.attachEvent("onload",e.ready),(i=function(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(i,50)}e.ready()})()),e.eventAttached=!0))},o=function(){var t,e=new Date;return t=function(t){var e=t.toString();return e.length<2&&(e="0"+e),e},e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"+00:00"}();e=QTags=function(t){if("string"==typeof t)t={id:t};else if("object"!=typeof t)return!1;var o,a,i,s,u,l=this,c=t.id,r=document.getElementById(c),d="qt_"+c;return c&&r?(l.name=d,l.id=c,l.canvas=r,l.settings=t,"content"!==c||"string"!=typeof adminpage||"post-new-php"!==adminpage&&"post-php"!==adminpage?i=d+"_toolbar":(edCanvas=r,i="ed_toolbar"),o=document.getElementById(i),o||(o=document.createElement("div"),o.id=i,o.className="quicktags-toolbar"),r.parentNode.insertBefore(o,r),l.toolbar=o,a=function(t){t=t||window.event;var e,n=t.target||t.srcElement,o=n.clientWidth||n.offsetWidth;o&&/ ed_button /.test(" "+n.className+" ")&&(l.canvas=r=document.getElementById(c),e=n.id.replace(d+"_",""),l.theButtons[e]&&l.theButtons[e].callback.call(l.theButtons[e],n,r,l))},u=function(){window.wpActiveEditor=c},s=document.getElementById("wp-"+c+"-wrap"),o.addEventListener?(o.addEventListener("click",a,!1),s&&s.addEventListener("click",u,!1)):o.attachEvent&&(o.attachEvent("onclick",a),s&&s.attachEvent("onclick",u)),l.getButton=function(t){return l.theButtons[t]},l.getButtonElement=function(t){return document.getElementById(d+"_"+t)},e.instances[c]=l,void(e.instances[0]||(e.instances[0]=e.instances[c],n(function(){e._buttonsInit()})))):!1},e.instances={},e.getInstance=function(t){return e.instances[t]},e._buttonsInit=function(){var t,n,o,a,i,s,u,l,c,r,d=this,g=",strong,em,link,block,del,ins,img,ul,ol,li,code,more,close,";for(s in d.instances)if("0"!==s){u=d.instances[s],t=u.canvas,n=u.name,o=u.settings,i="",a={},r="",o.buttons&&(r=","+o.buttons+",");for(c in edButtons)edButtons[c]&&(l=edButtons[c].id,r&&-1!==g.indexOf(","+l+",")&&-1===r.indexOf(","+l+",")||edButtons[c].instance&&edButtons[c].instance!==s||(a[l]=edButtons[c],edButtons[c].html&&(i+=edButtons[c].html(n+"_"))));r&&-1!==r.indexOf(",dfw,")&&(a.dfw=new e.DFWButton,i+=a.dfw.html(n+"_")),"rtl"===document.getElementsByTagName("html")[0].dir&&(a.textdirection=new e.TextDirectionButton,i+=a.textdirection.html(n+"_")),u.toolbar.innerHTML=i,u.theButtons=a,"undefined"!=typeof jQuery&&jQuery(document).triggerHandler("quicktags-init",[u])}d.buttonsInitDone=!0},e.addButton=function(t,n,o,a,i,s,u,l,c){var r;if(t&&n){if(u=u||0,a=a||"",c=c||{},"function"==typeof o)r=new e.Button(t,n,i,s,l,c),r.callback=o;else{if("string"!=typeof o)return;r=new e.TagButton(t,n,o,a,i,s,l,c)}if(-1===u)return r;if(u>0){for(;"undefined"!=typeof edButtons[u];)u++;edButtons[u]=r}else edButtons[edButtons.length]=r;this.buttonsInitDone&&this._buttonsInit()}},e.insertContent=function(t){var e,n,o,a,i,s=document.getElementById(wpActiveEditor);return s?(document.selection?(s.focus(),e=document.selection.createRange(),e.text=t,s.focus()):s.selectionStart||0===s.selectionStart?(i=s.value,n=s.selectionStart,o=s.selectionEnd,a=s.scrollTop,s.value=i.substring(0,n)+t+i.substring(o,i.length),s.selectionStart=n+t.length,s.selectionEnd=n+t.length,s.scrollTop=a,s.focus()):(s.value+=t,s.focus()),!0):!1},e.Button=function(t,e,n,o,a,i){this.id=t,this.display=e,this.access="",this.title=o||"",this.instance=a||"",this.attr=i||{}},e.Button.prototype.html=function(e){var n,o,a,i=this.title?' title="'+t(this.title)+'"':"",s=this.attr&&this.attr.ariaLabel?' aria-label="'+t(this.attr.ariaLabel)+'"':"",u=this.display?' value="'+t(this.display)+'"':"",l=this.id?' id="'+t(e+this.id)+'"':"",c=(a=window.wp)&&a.editor&&a.editor.dfw;return"fullscreen"===this.id?'<button type="button"'+l+' class="ed_button qt-dfw qt-fullscreen"'+i+s+"></button>":"dfw"===this.id?(n=c&&c.isActive()?"":' disabled="disabled"',o=c&&c.isOn()?" active":"",'<button type="button"'+l+' class="ed_button qt-dfw'+o+'"'+i+s+n+"></button>"):'<input type="button"'+l+' class="ed_button button button-small"'+i+s+u+" />"},e.Button.prototype.callback=function(){},e.TagButton=function(t,n,o,a,i,s,u,l){var c=this;e.Button.call(c,t,n,i,s,u,l),c.tagStart=o,c.tagEnd=a},e.TagButton.prototype=new e.Button,e.TagButton.prototype.openTag=function(t,e){e.openTags||(e.openTags=[]),this.tagEnd&&(e.openTags.push(this.id),t.value="/"+t.value,this.attr.ariaLabelClose&&t.setAttribute("aria-label",this.attr.ariaLabelClose))},e.TagButton.prototype.closeTag=function(t,e){var n=this.isOpen(e);n!==!1&&e.openTags.splice(n,1),t.value=this.display,this.attr.ariaLabel&&t.setAttribute("aria-label",this.attr.ariaLabel)},e.TagButton.prototype.isOpen=function(t){var e=this,n=0,o=!1;if(t.openTags)for(;o===!1&&n<t.openTags.length;)o=t.openTags[n]===e.id?n:!1,n++;else o=!1;return o},e.TagButton.prototype.callback=function(t,e,n){var o,a,i,s,u,l,c,r,d=this,g=e.value,p=g?d.tagEnd:"";document.selection?(e.focus(),r=document.selection.createRange(),r.text.length>0?r.text=d.tagEnd?d.tagStart+r.text+p:r.text+d.tagStart:d.tagEnd?d.isOpen(n)===!1?(r.text=d.tagStart,d.openTag(t,n)):(r.text=p,d.closeTag(t,n)):r.text=d.tagStart,e.focus()):e.selectionStart||0===e.selectionStart?(o=e.selectionStart,a=e.selectionEnd,i=a,s=e.scrollTop,u=g.substring(0,o),l=g.substring(a,g.length),c=g.substring(o,a),o!==a?d.tagEnd?(e.value=u+d.tagStart+c+p+l,i+=d.tagStart.length+p.length):(e.value=u+c+d.tagStart+l,i+=d.tagStart.length):d.tagEnd?d.isOpen(n)===!1?(e.value=u+d.tagStart+l,d.openTag(t,n),i=o+d.tagStart.length):(e.value=u+p+l,i=o+p.length,d.closeTag(t,n)):(e.value=u+d.tagStart+l,i=o+d.tagStart.length),e.selectionStart=i,e.selectionEnd=i,e.scrollTop=s,e.focus()):(p?d.isOpen(n)!==!1?(e.value+=d.tagStart,d.openTag(t,n)):(e.value+=p,d.closeTag(t,n)):e.value+=d.tagStart,e.focus())},e.SpellButton=function(){},e.CloseButton=function(){e.Button.call(this,"close",quicktagsL10n.closeTags,"",quicktagsL10n.closeAllOpenTags)},e.CloseButton.prototype=new e.Button,e._close=function(t,e,n){var o,a,i=n.openTags;if(i)for(;i.length>0;)o=n.getButton(i[i.length-1]),a=document.getElementById(n.name+"_"+o.id),t?o.callback.call(o,a,e,n):o.closeTag(a,n)},e.CloseButton.prototype.callback=e._close,e.closeAllTags=function(t){var n=this.getInstance(t);e._close("",n.canvas,n)},e.LinkButton=function(){var t={ariaLabel:quicktagsL10n.link};e.TagButton.call(this,"link","link","","</a>","","","",t)},e.LinkButton.prototype=new e.TagButton,e.LinkButton.prototype.callback=function(t,n,o,a){var i,s=this;return"undefined"!=typeof wpLink?void wpLink.open(o.id):(a||(a="http://"),void(s.isOpen(o)===!1?(i=prompt(quicktagsL10n.enterURL,a),i&&(s.tagStart='<a href="'+i+'">',e.TagButton.prototype.callback.call(s,t,n,o))):e.TagButton.prototype.callback.call(s,t,n,o)))},e.ImgButton=function(){var t={ariaLabel:quicktagsL10n.image};e.TagButton.call(this,"img","img","","","","","",t)},e.ImgButton.prototype=new e.TagButton,e.ImgButton.prototype.callback=function(t,n,o,a){a||(a="http://");var i,s=prompt(quicktagsL10n.enterImageURL,a);s&&(i=prompt(quicktagsL10n.enterImageDescription,""),this.tagStart='<img src="'+s+'" alt="'+i+'" />',e.TagButton.prototype.callback.call(this,t,n,o))},e.DFWButton=function(){e.Button.call(this,"dfw","","f",quicktagsL10n.dfw)},e.DFWButton.prototype=new e.Button,e.DFWButton.prototype.callback=function(){var t;(t=window.wp)&&t.editor&&t.editor.dfw&&window.wp.editor.dfw.toggle()},e.TextDirectionButton=function(){e.Button.call(this,"textdirection",quicktagsL10n.textdirection,"",quicktagsL10n.toggleTextdirection)},e.TextDirectionButton.prototype=new e.Button,e.TextDirectionButton.prototype.callback=function(t,e){var n="rtl"===document.getElementsByTagName("html")[0].dir,o=e.style.direction;o||(o=n?"rtl":"ltr"),e.style.direction="rtl"===o?"ltr":"rtl",e.focus()},edButtons[10]=new e.TagButton("strong","b","<strong>","</strong>","","","",{ariaLabel:quicktagsL10n.strong,ariaLabelClose:quicktagsL10n.strongClose}),edButtons[20]=new e.TagButton("em","i","<em>","</em>","","","",{ariaLabel:quicktagsL10n.em,ariaLabelClose:quicktagsL10n.emClose}),edButtons[30]=new e.LinkButton,edButtons[40]=new e.TagButton("block","b-quote","\n\n<blockquote>","</blockquote>\n\n","","","",{ariaLabel:quicktagsL10n.blockquote,ariaLabelClose:quicktagsL10n.blockquoteClose}),edButtons[50]=new e.TagButton("del","del",'<del datetime="'+o+'">',"</del>","","","",{ariaLabel:quicktagsL10n.del,ariaLabelClose:quicktagsL10n.delClose}),edButtons[60]=new e.TagButton("ins","ins",'<ins datetime="'+o+'">',"</ins>","","","",{ariaLabel:quicktagsL10n.ins,ariaLabelClose:quicktagsL10n.insClose}),edButtons[70]=new e.ImgButton,edButtons[80]=new e.TagButton("ul","ul","<ul>\n","</ul>\n\n","","","",{ariaLabel:quicktagsL10n.ul,ariaLabelClose:quicktagsL10n.ulClose}),edButtons[90]=new e.TagButton("ol","ol","<ol>\n","</ol>\n\n","","","",{ariaLabel:quicktagsL10n.ol,ariaLabelClose:quicktagsL10n.olClose}),edButtons[100]=new e.TagButton("li","li","	<li>","</li>\n","","","",{ariaLabel:quicktagsL10n.li,ariaLabelClose:quicktagsL10n.liClose}),edButtons[110]=new e.TagButton("code","code","<code>","</code>","","","",{ariaLabel:quicktagsL10n.code,ariaLabelClose:quicktagsL10n.codeClose}),edButtons[120]=new e.TagButton("more","more","<!--more-->\n\n","","","","",{ariaLabel:quicktagsL10n.more}),edButtons[140]=new e.CloseButton}();